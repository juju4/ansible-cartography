---
# defaults file for juju4.cartography

cartography_pip: cartography
# cartography_pip: git+https://github.com/lyft/cartography@branch
cartography_version: 0.65.0
cartography_user: _cartography
cartography_home: /var/_cartography

cartography_env_variables_template: "default-env.j2"
cartography_neo4j_url: 'bolt://localhost:7687'
# FIXME! not running in continuous
cartography_svc_args: '--cve-enabled'
# cartography_svc_args: '–azure-sp-auth –azure-sync-all-subscriptions –azure-tenant-id ${AZURE_TENANT_ID} –azure-client-id ${AZURE_CLIENT_ID} –azure-client-secret-env-var AZURE_CLIENT_SECRET'
# If empty, will only sync at service start. right?
cartography_cron_args: ''
# cartography_cron_args: '--aws-sync-all-profiles --azure-sync-all-subscriptions'

# Example. Put in vault file as secrets
cartography_instances:
  - { name: default,
      cartography_args: "{{ cartography_svc_args }}",
      environment_vars: {
        API_CLIENT_SECRET: ''
      }
  }
  - { name: azure1,
      cartography_args: '–azure-sp-auth –azure-sync-all-subscriptions –azure-tenant-id ${AZURE_TENANT_ID1} –azure-client-id ${AZURE_CLIENT_ID1} –azure-client-secret-env-var AZURE_CLIENT_SECRET1',
      environment_vars: {
        AZURE_TENANT_ID1: 'T1',
        AZURE_CLIENT_ID1: 'C1',
        AZURE_CLIENT_SECRET1: ''
      }
  }
  - { name: azure2,
      cartography_args: '–azure-sp-auth –azure-sync-all-subscriptions –azure-tenant-id ${AZURE_TENANT_ID2} –azure-client-id ${AZURE_CLIENT_ID2} –azure-client-secret-env-var AZURE_CLIENT_SECRET2',
      environment_vars: {
        AZURE_TENANT_ID2: 'T2',
        AZURE_CLIENT_ID2: 'C2',
        AZURE_CLIENT_SECRET2: ''
      }
  }

cartography_cgroups_restriction_enable: true

is_container: false
